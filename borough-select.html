<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https://images.unsplash.com https://garnetgrid.com https://poppin.garnetgrid.com; connect-src 'self'">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POPPIN â€” Choose Your Borough</title>
    <meta name="theme-color" content="#1A0A2E">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="img/icon-192.png">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="POPPIN">
    <meta property="og:image" content="https://poppin.garnetgrid.com/img/icon-512.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://poppin.garnetgrid.com/img/icon-512.png">
    <meta name="description" content="Select your borough to explore real-time NYC nightlife on POPPIN.">
    <meta property="og:title" content="POPPIN â€” Choose Your Borough">
    <meta property="og:url" content="https://poppin.garnetgrid.com/borough-select.html">
    <link rel="canonical" href="https://poppin.garnetgrid.com/borough-select.html">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .borough-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 320px));
            justify-content: center;
            gap: var(--space-xl);
            margin-top: var(--space-2xl);
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .borough-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            padding: var(--space-2xl);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 250px;
        }

        .borough-card:hover {
            border-color: var(--gold-primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 184, 0, 0.15);
        }

        .borough-card h3 {
            font-size: 1.8rem;
            margin-bottom: var(--space-sm);
            z-index: 2;
        }

        .borough-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            z-index: 2;
        }

        .borough-card .emoji-bg {
            position: absolute;
            font-size: 8rem;
            opacity: 0.05;
            bottom: -20px;
            right: -20px;
            transition: all 0.5s ease;
        }

        .borough-card:hover .emoji-bg {
            opacity: 0.15;
            transform: scale(1.1);
        }

        .onboarding-header {
            text-align: center;
            padding: var(--space-2xl) 0 0 0;
            margin-top: 5vh;
        }

        .onboarding-header .logo {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: 2.5rem;
            letter-spacing: -0.04em;
            color: var(--text-primary);
            margin-bottom: var(--space-xl);
        }

        .onboarding-header .logo span {
            color: var(--gold-primary);
        }
    </style>
</head>

<body>
    <main class="page-content" style="min-height: 85vh; display: flex; flex-direction: column; padding-bottom: 5vh;">
        <div class="container" style="flex: 1;">
            <div class="onboarding-header">
                <img src="img/poppin-logo.svg" alt="POPPIN Logo" class="brand-logo-main">
                <h1 style="font-size: 3rem; margin-bottom: var(--space-md);">Where are you poppin' off to?</h1>
                <p style="color: var(--text-secondary); font-size: 1.2rem;">Select your primary borough to explore
                    real-time nightlife.</p>
            </div>

            <div class="borough-grid" id="boroughGrid">
                <!-- Injected via JS -->
            </div>
        </div>
    </main>

    <div id="footer-root"></div>

    <script src="js/data.js"></script>
    <script src="js/membership.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Render footer with GarnetGrid badge
        const footerEl = document.getElementById('footer-root');
        if (footerEl) footerEl.outerHTML = renderFooter();

        const boroughData = [
            { id: 'manhattan', name: 'Manhattan', desc: 'The City That Never Sleeps', emoji: 'ðŸ™ï¸', heat: 5, heatLabel: 'ðŸ”¥ On Fire', barsOpen: 142 },
            { id: 'brooklyn', name: 'Brooklyn', desc: 'Vibes, Breweries & Warehouses', emoji: 'ðŸŒ‰', heat: 4, heatLabel: 'â™¨ï¸ Poppin\'', barsOpen: 89 },
            { id: 'queens', name: 'Queens', desc: "The World's Borough", emoji: 'ðŸ‘‘', heat: 3, heatLabel: 'ðŸŸ¢ Active', barsOpen: 45 },
            { id: 'bronx', name: 'The Bronx', desc: 'Birthplace of Hip Hop', emoji: 'ðŸ—½', heat: 2, heatLabel: 'ðŸŸ¡ Quiet', barsOpen: 12 },
            { id: 'staten_island', name: 'Staten Island', desc: 'The Forgotten Borough', emoji: 'â›´ï¸', heat: 3, heatLabel: 'ðŸŸ¢ Active', barsOpen: 28 }
        ];

        function getHeatColor(heat) {
            if (heat >= 5) return 'var(--danger)';
            if (heat === 4) return 'var(--gold-primary)';
            if (heat === 3) return 'var(--success)';
            return 'var(--text-muted)';
        }

        document.getElementById('boroughGrid').innerHTML = boroughData.map(b => `
            <div class="borough-card" onclick="selectBorough('${b.id}')">
                <div class="emoji-bg">${b.emoji}</div>
                <div style="position:absolute; top:15px; right:15px; background:rgba(0,0,0,0.6); padding:6px 12px; border-radius:12px; font-size:0.75rem; font-weight:800; border:1px solid ${getHeatColor(b.heat)}; color:${getHeatColor(b.heat)}; box-shadow:0 0 10px ${getHeatColor(b.heat)}60; backdrop-filter:blur(4px);">
                    ${b.heatLabel}
                </div>
                <h3>${b.name}</h3>
                <p>${b.desc}</p>
                <div style="margin-top:var(--space-md); font-size:0.8rem; color:var(--accent-primary); font-weight:bold;">
                    ${b.barsOpen} Bars Live
                </div>
            </div>
        `).join('');

        function selectBorough(id) {
            localStorage.setItem('poppin_active_borough', id);
            window.location.href = 'dashboard.html';
        }
    </script>
    <script src="js/protect.js"></script>
</body>

</html>